<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">


    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Highcharts Example</title>

    <!--script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script-->
    <%=javascript_include_tag "Charts/Highcharts/jquery.min"%>
    <script type="text/javascript">

    function plotGraph() {
      results = document.getElementById('results').value;
      results = JSON.parse(results);


    $(function () {
        $('#container-chart').highcharts({
            chart: {
                type: 'line',
                marginRight: 130,
                marginBottom: 25
            },
            title: {
                text: 'Monthly Average Temperature',
                x: -20 //center
            },
            subtitle: {
                text: 'Source: WorldClimate.com',
                x: -20
            },
            xAxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
            },
            yAxis: {
                title: {
                    text: 'Temperature (°C)'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                valueSuffix: '°C'
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: -10,
                y: 100,
                borderWidth: 0
            },
            series: [{
                name: 'Tokyo',
                data: results['Tokyo']
            }, {
                name: 'New York',
                data: results['New York']
            }, {
                name: 'Berlin',
                data: results['Berlin']
            }, {
                name: 'London',
                data: results['London']
            }]
        });
    });
    

  }

    </script>


  </head>
  <body>

    <%=javascript_include_tag "Charts/Highcharts/highcharts"%>
    <%=javascript_include_tag "Charts/Highcharts/exporting"%>

    <div id="container-chart" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
    <input type="hidden" id="results" />
  </body>
</html>
